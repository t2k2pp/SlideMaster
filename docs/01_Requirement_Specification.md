# SlideMaster - 要件仕様書 v2.0

**文書バージョン**: 2.0  
**最終更新日**: 2025年8月13日  
**対象システム**: SlideMaster AI-Powered Presentation Generator  

---

## 1. プロジェクト概要

### 1.1 システム名称
**SlideMaster** - AI-Powered Slide Creation Platform

### 1.2 システム目的
AIを活用した高品質プレゼンテーション資料の自動生成システム。ユーザーは簡単なトピック入力のみで、用途に最適化されたプロフェッショナルなスライドを自動生成できる。

### 1.3 プロジェクトビジョン
- **効率性**: 数分でプロフェッショナルなプレゼンテーション作成
- **品質**: AI分析による用途別最適化
- **柔軟性**: 4つの専門スタイルと11種類のエクスポート形式
- **ユーザビリティ**: 直感的な操作とリアルタイム編集

---

## 2. ステークホルダー要件

### 2.1 主要ステークホルダー

#### **エンドユーザー**
- **ビジネスプロフェッショナル**: 企業内プレゼンテーション作成
- **教育関係者**: 授業・研修資料作成
- **研究者・学術関係者**: 学会発表・論文発表
- **マーケティング担当者**: 商品紹介・営業資料

#### **システム管理者**
- IT部門・システム運用担当者

#### **開発チーム**
- フロントエンド・バックエンド開発者
- AI/MLエンジニア

### 2.2 ユーザーストーリー

#### **US001: 基本的なスライド生成**
```
As a ビジネスユーザー
I want to トピックを入力するだけでスライドを自動生成したい
So that プレゼンテーション作成時間を大幅に短縮できる
```

#### **US002: 用途別スタイル適用**
```
As a 教育関係者
I want 教育向けの読みやすいスタイルで資料を作成したい
So that 学習者にとって理解しやすいプレゼンテーションを提供できる
```

#### **US003: 高度な編集機能**
```
As a デザインにこだわるユーザー
I want 生成されたスライドを細かく編集・調整したい
So that 自分の要求に完全に合致したプレゼンテーションを作成できる
```

#### **US004: 多様なエクスポート**
```
As a プレゼンテーター
I want 複数の形式でプレゼンテーションをエクスポートしたい
So that 様々な環境・用途で資料を活用できる
```

---

## 3. 機能要件

### 3.1 コア機能群

#### **F001: AI自動生成エンジン**
- **概要**: トピック入力からの完全自動スライド生成
- **詳細**:
  - 自然言語トピック解析
  - コンテキスト・インテリジェンスによる自動スタイル選択
  - Marp→JSON二段階生成アプローチ
  - リアルタイム生成進捗表示

#### **F002: 4スタイル戦略システム**
- **Simple Style**: シンプル洗練、データ可視化重視
- **Education Style**: 大きな文字、イラスト重視、教育最適化
- **Marketing-Oriented**: ビジュアルインパクト、商品写真中心
- **Research-Presentation-Oriented**: 論理構成、学術発表特化

#### **F003: 高度な画像生成システム**
- **機能**:
  - コンテンツ適応型画像生成
  - 3段階画像一貫性制御（High/Medium/Low）
  - 並列画像生成（デフォルト3並列）
  - スタイル別画像最適化

#### **F004: インタラクティブ編集システム**
- **レイヤーベース編集**: テキスト・画像・図形の個別操作
- **リアルタイムプレビュー**: 即座の変更反映
- **ドラッグ&ドロップ**: 直感的なレイヤー配置
- **グリッドスナップ**: 正確な配置支援

#### **F005: 包括的エクスポートシステム**
- **対応形式**: PDF, PPTX, PNG, JPEG, SVG, HTML, Marp, ZIP
- **品質設定**: 解像度・圧縮レベル選択
- **バッチエクスポート**: 複数形式同時出力

### 3.2 補助機能群

#### **F006: プロジェクト管理**
- プレゼンテーション保存・読み込み
- バージョン履歴管理
- 最近使用したファイル管理

#### **F007: AI設定・カスタマイズ**
- プロバイダー選択（Azure OpenAI等）
- 生成パラメータ調整
- カスタムプロンプト設定

#### **F008: ユーザビリティ支援**
- ウェルカム画面（6タブ式インターフェース）
- ツールチップ・ヘルプシステム
- エラーハンドリング・リカバリ

---

## 4. 非機能要件

### 4.1 パフォーマンス要件

#### **P001: 応答性能**
- **生成開始**: トピック入力から生成開始まで2秒以内
- **第1スライド表示**: 生成開始から30秒以内
- **完全生成**: 8スライドを3分以内で完了
- **編集応答**: レイヤー操作の即座反映（<100ms）

#### **P002: 並列処理**
- **画像生成**: 最大3並列実行
- **UI応答性**: 重い処理中もUI操作可能
- **プログレッシブ表示**: 完成したスライドから順次表示

#### **P003: リソース効率**
- **メモリ使用量**: 1GB以下での安定動作
- **トークン最適化**: Minified JSON採用でトークン使用量50%削減
- **キャッシュ活用**: 一度生成した画像の再利用

### 4.2 可用性・信頼性

#### **R001: 耐障害性**
- **AI APIエラー**: 3回自動リトライ
- **ネットワーク障害**: 一時保存による作業継続
- **不正JSONレスポンス**: 自動修復システム

#### **R002: データ保護**
- **自動保存**: 2分間隔での自動バックアップ
- **ブラウザ内永続化**: IndexedDBによるオフライン対応
- **バージョン管理**: 編集履歴の自動保存

### 4.3 セキュリティ要件

#### **S001: API セキュリティ**
- **認証**: セキュアなAPIキー管理
- **通信**: HTTPS必須、APIキーはヘッダー送信
- **入力検証**: プロンプト・設定値の厳密バリデーション

#### **S002: XSS/インジェクション対策**
- **HTMLタグ禁止**: コンテンツでのHTML使用不可
- **Markdown限定**: 安全なMarkdown記法のみ許可
- **入力サニタイズ**: 全ユーザー入力の無害化

### 4.4 互換性・拡張性

#### **C001: ブラウザ対応**
- **モダンブラウザ**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **レスポンシブ**: デスクトップ・タブレット対応
- **PWA準備**: 将来的なPWA化への対応

#### **C002: AI プロバイダー拡張性**
- **現在**: Azure OpenAI専用実装
- **将来**: Gemini, Vertex AI, OpenAI等への拡張
- **抽象化**: プロバイダー独立のインターフェース

---

## 5. システム制約

### 5.1 技術制約

#### **T001: フロントエンド技術**
- **React**: 19.1.0以上必須
- **TypeScript**: 5.7.2以上、strict mode必須
- **Vite**: 6.2.0以上のビルドシステム

#### **T002: 外部API依存**
- **Azure OpenAI**: 必須、API制限あり
- **Vertex AI Imagen**: 画像生成必須
- **インターネット接続**: AI機能には必須

#### **T003: ブラウザ制約**
- **IndexedDB**: 必須機能
- **File API**: エクスポート機能必須
- **Canvas API**: 画像処理必須

### 5.2 運用制約

#### **O001: APIコスト管理**
- **トークン最適化**: Minified JSON採用
- **リクエスト制限**: ユーザーあたりの生成制限
- **キャッシュ活用**: 重複生成の回避

#### **O002: 容量制限**
- **プレゼンテーションサイズ**: 50MB以下推奨
- **画像ファイルサイズ**: 1枚あたり5MB以下
- **ブラウザストレージ**: 100MB以下での運用

---

## 6. データ要件

### 6.1 データモデル

#### **プレゼンテーションデータ**
```typescript
interface Presentation {
  id: string;
  title: string;
  description: string;
  createdAt: Date;
  updatedAt: Date;
  version: string;
  metadata: PresentationMetadata;
  slides: Slide[];
  settings: PresentationSettings;
}
```

#### **スライドデータ**
```typescript
interface Slide {
  id: string;
  title: string;
  layers: Layer[];
  background: string;
  aspectRatio: AspectRatio;
  template: SlideTemplate;
  speakerNotes?: string;
}
```

#### **レイヤーデータ**
```typescript
interface Layer {
  id: string;
  type: 'text' | 'image' | 'shape' | 'svg';
  x: number; y: number;
  width: number; height: number;
  zIndex: number;
  visible: boolean;
  content: LayerContent;
  style: LayerStyle;
}
```

### 6.2 データフロー

#### **生成フロー**
1. **ユーザー入力** → トピック解析
2. **コンテキスト分析** → スタイル自動選択
3. **Marp生成** → 構造化テキスト
4. **JSON変換** → レイヤー構造
5. **画像生成** → 並列画像作成
6. **統合** → 完成プレゼンテーション

#### **編集フロー**
1. **ユーザー操作** → レイヤー変更
2. **リアルタイム更新** → プレビュー反映
3. **自動保存** → 2分間隔保存
4. **変更履歴** → バージョン管理

---

## 7. インターフェース要件

### 7.1 ユーザーインターフェース

#### **UI001: ウェルカム画面**
- **6タブ式インターフェース**:
  1. AI Generate - 自動生成
  2. Docs Auto Generate - 文書自動生成
  3. Docs Manual Generate - 文書手動生成
  4. Create New - 新規作成
  5. Projects - プロジェクト管理
  6. Import - インポート機能

#### **UI002: メイン編集画面**
- **左サイドバー**: スライド一覧・サムネイル
- **中央エリア**: キャンバス・レイヤー編集
- **右サイドバー**: レイヤー管理・プロパティ
- **上部ツールバー**: 保存・エクスポート・設定

#### **UI003: 生成プロセス表示**
- **プログレスバー**: 全体進捗表示
- **ステップ表示**: 現在処理中の工程
- **リアルタイムログ**: 詳細進捗（開発者向け）

### 7.2 外部システムインターフェース

#### **API001: Azure OpenAI**
- **エンドポイント**: GPT-4o, DALL-E 3
- **認証**: Bearer Token認証
- **制限**: レート制限・コスト管理

#### **API002: Vertex AI Imagen**
- **機能**: 高品質画像生成
- **認証**: Google Cloud認証
- **形式**: REST API

---

## 8. 受入基準

### 8.1 機能受入基準

#### **A001: 基本生成機能**
- [ ] トピック入力から8スライド生成完了
- [ ] 4つのスタイル全てで適切な生成
- [ ] 画像とテキストの整合性確保
- [ ] エラー発生時の適切なハンドリング

#### **A002: 編集機能**
- [ ] 全レイヤータイプの操作可能
- [ ] ドラッグ&ドロップの正常動作
- [ ] リアルタイムプレビュー機能
- [ ] Undo/Redo機能

#### **A003: エクスポート機能**
- [ ] 11種類全形式での正常エクスポート
- [ ] 品質設定の正常動作
- [ ] ファイルサイズの適正範囲
- [ ] ダウンロード処理の完了

### 8.2 性能受入基準

#### **P001: 生成性能**
- [ ] 第1スライド30秒以内表示
- [ ] 8スライド3分以内完全生成
- [ ] UI操作応答100ms以内
- [ ] メモリ使用量1GB以下

#### **P002: 信頼性**
- [ ] 連続30回生成でエラー率5%以下
- [ ] AI APIエラー時のリトライ成功
- [ ] 不正JSON修復システム動作
- [ ] 自動保存の正常動作

### 8.3 ユーザビリティ受入基準

#### **U001: 操作性**
- [ ] 新規ユーザーが10分以内で基本操作習得
- [ ] ヘルプなしでの基本機能利用
- [ ] エラー時の分かりやすいメッセージ表示
- [ ] 直感的なアイコン・レイアウト

---

## 9. リスク分析

### 9.1 技術リスク

#### **R001: AI API依存リスク**
- **リスク**: Azure OpenAI API障害・制限
- **影響度**: 高（コア機能停止）
- **対策**: 複数プロバイダー対応・エラーハンドリング強化

#### **R002: パフォーマンスリスク**
- **リスク**: 大量画像生成による応答遅延
- **影響度**: 中（ユーザー体験悪化）
- **対策**: 並列処理・プログレッシブ表示

### 9.2 運用リスク

#### **R003: コストリスク**
- **リスク**: AI API利用料の増大
- **影響度**: 中（運用コスト増）
- **対策**: トークン最適化・使用量監視

#### **R004: セキュリティリスク**
- **リスク**: APIキー漏洩・XSS攻撃
- **影響度**: 高（セキュリティ侵害）
- **対策**: セキュア実装・入力検証強化

---

## 10. 成功指標（KPI）

### 10.1 機能指標

#### **品質指標**
- **生成成功率**: 95%以上
- **ユーザー満足度**: 4.5/5.0以上
- **エラー発生率**: 5%以下

#### **性能指標**
- **平均生成時間**: 2分以内（8スライド）
- **UI応答時間**: 100ms以内
- **システム稼働率**: 99.5%以上

### 10.2 ビジネス指標

#### **利用状況**
- **月間アクティブユーザー**: 目標値
- **1ユーザーあたり生成数**: 平均値
- **機能利用率**: 各機能の使用頻度

---

## 11. 用語集

| 用語 | 定義 |
|------|------|
| **Marp** | Markdown Presentation Ecosystem - マークダウンベースのプレゼンテーション |
| **Context Intelligence** | トピック分析による自動スタイル選択システム |
| **Layer** | スライド内の個別要素（テキスト・画像・図形等） |
| **Strategy Pattern** | スタイル別処理を分離する設計パターン |
| **Minified JSON** | 空白・改行を除去した圧縮JSON形式 |
| **Progressive Rendering** | 完成部分から順次表示する描画方式 |

---

**Document Control**
- **承認者**: プロジェクトマネージャー
- **次回レビュー**: 機能追加時
- **配布範囲**: 開発チーム・関係者全員